<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"

	android:versionCode="445"
	android:versionName="3.0.145b"
	package="com.chess"
	android:installLocation="auto">

	<uses-permission android:name="android.permission.INTERNET" />
	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
	<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
	<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />

	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

	<!--============ GCM Permissions ==========================-->
	<uses-permission android:name="android.permission.INTERNET" />
	<!-- GCM connects to Google Services. -->
	<uses-permission android:name="android.permission.GET_ACCOUNTS" />
	<!-- GCM requires a Google account. -->
	<uses-permission android:name="android.permission.WAKE_LOCK" />
	<!-- Keeps the processor from sleeping when a message is received. -->

	<!--
	 Creates a custom permission so only this app can receive its messages.

	 NOTE: the permission *must* be called PACKAGE.permission.C2D_MESSAGE,
		   where PACKAGE is the application's package name.
	-->
	<permission
		android:name="com.chess.permission.C2D_MESSAGE"
		android:protectionLevel="signature" />

	<uses-permission android:name="com.chess.permission.C2D_MESSAGE" />
	<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
	<!-- This app has permission to register and receive data message. -->

	<!--In-App Billing Permissions-->
	<uses-permission android:name="com.android.vending.BILLING" />
	<!-- VERY IMPORTANT! Don't forget this permission, or in-app billing won't work. -->

	<uses-sdk
		android:minSdkVersion="8"
		android:targetSdkVersion="19" />
	<supports-screens
		android:largeScreens="true"
		android:xlargeScreens="true" />

	<application
		android:icon="@drawable/ic_launcher"
		android:label="@string/app_name"
		android:logo="@drawable/ic_action_menu"
		android:theme="@style/OrangeButtonTheme"
		android:allowBackup="false"
		android:hardwareAccelerated="true">

		<activity
			android:name=".ui.activities.MainFragmentFaceActivity"
			android:screenOrientation="sensor"
			android:windowSoftInputMode="adjustResize"
			android:launchMode="singleTop">

			<intent-filter>
				<action android:name="android.intent.action.SEARCH" />
				<action android:name="android.intent.action.MAIN" />

				<category android:name="android.intent.category.LAUNCHER" />
				<!-- No category needed, because the Intent will specify this class component-->
			</intent-filter>

			<!--TODO uncomment when logic will be ready-->
			<!--<intent-filter>
				<action android:name="android.intent.action.VIEW" />

				<category android:name="android.intent.category.DEFAULT" />
				<category android:name="android.intent.category.BROWSABLE" />

				<data
					android:scheme="http"
					android:host="www.chess.com"
					android:pathPrefix="/"
					android:path="/"
					android:pathPattern="/"
					/>

			</intent-filter>-->

			<!-- Receives the search request. -->
			<intent-filter>
				<action android:name="android.intent.action.SEARCH" />
				<action android:name="android.intent.action.MAIN" />

				<category android:name="android.intent.category.LAUNCHER" />
				<!-- No category needed, because the Intent will specify this class component-->
			</intent-filter>

			<!-- Points to searchable meta data. -->
			<meta-data
				android:name="android.app.searchable"
				android:resource="@xml/searchable" />

		</activity>

		<activity android:name="com.chess.ui.activities.VideoActivity"
			android:configChanges="keyboardHidden|orientation"
			android:theme="@style/FullScreen"
			android:screenOrientation="sensor"/>

		<activity android:name="com.mopub.mobileads.MoPubActivity" android:configChanges="keyboardHidden|orientation"/>
		<activity android:name="com.mopub.mobileads.MraidActivity" android:configChanges="keyboardHidden|orientation"/>
		<activity android:name="com.mopub.mobileads.MraidBrowser" android:configChanges="keyboardHidden|orientation"/>
		<!--<activity android:name="com.mopub.mobileads.MraidVideoPlayerActivity" android:configChanges="keyboardHidden|orientation"/>-->
		<activity android:name="com.google.ads.AdActivity" android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
		<activity android:name="com.millennialmedia.android.MMActivity" android:theme="@android:style/Theme.Translucent.NoTitleBar" android:configChanges="keyboardHidden|orientation|keyboard" />
		<!--<activity android:name="com.millennialmedia.android.VideoPlayer" android:configChanges="keyboardHidden|orientation|keyboard" />-->

		<receiver
			android:name="com.google.android.gcm.GCMBroadcastReceiver"
			android:permission="com.google.android.c2dm.permission.SEND">
			<intent-filter>
				<!-- Receives the actual messages. -->
				<action android:name="com.google.android.c2dm.intent.RECEIVE" />
				<!-- Receives the registration id. -->
				<action android:name="com.google.android.c2dm.intent.REGISTRATION" />
				<category android:name="com.chess" />
			</intent-filter>
		</receiver>

		<!--
				  Application-specific subclass of GCMBaseIntentService that will
				  handle received messages.

				  By default, it must be named .GCMIntentService, unless the
				  application uses a custom BroadcastReceiver that redefines its name.
				-->
		<service android:name=".GCMIntentService" />
		<service android:name=".backend.LiveChessService" />
		<service android:name=".backend.GetAndSaveUserStats" />
		<service android:name=".backend.GetAndSaveFriends" />
		<service android:name=".backend.GetAndSaveTheme" />
		<service android:name=".backend.GetAndSaveBoard" />
		<service android:name=".backend.GetAndSavePieces" />

		<provider
			android:name=".db.DbDataProvider"
			android:authorities="com.chess.db_provider"
			android:exported="false" />

		<!--<meta-data android:name="ADMOB_PUBLISHER_ID" android:value="a14dd6bdf67a607"/>-->

		<!--Facebook auth activities and keys-->
		<activity
			android:name="com.facebook.LoginActivity"
			android:theme="@android:style/Theme.Translucent.NoTitleBar" />
		<meta-data
			android:name="com.facebook.sdk.ApplicationId"
			android:value="@string/facebook_app_id" />
	</application>

</manifest>
