<?xml version="1.0" encoding="utf-8"?>
<manifest
	xmlns:android="http://schemas.android.com/apk/res/android"

	android:versionCode="149"
	android:versionName="3.0.018a" package="com.chess" android:installLocation="auto">

	<uses-permission android:name="android.permission.INTERNET"/>
	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
	<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>

	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <!--Read contacts to invite friends-->
	<uses-permission android:name="android.permission.READ_CONTACTS"/>

	<!--GCM Permissions-->
    <uses-permission android:name="android.permission.INTERNET" /> <!-- GCM connects to Google Services. -->
    <uses-permission android:name="android.permission.GET_ACCOUNTS" /> <!-- GCM requires a Google account. -->
    <uses-permission android:name="android.permission.WAKE_LOCK" /> <!-- Keeps the processor from sleeping when a message is received. -->

    <!--
     Creates a custom permission so only this app can receive its messages.

     NOTE: the permission *must* be called PACKAGE.permission.C2D_MESSAGE,
           where PACKAGE is the application's package name.
    -->
    <permission android:name="com.google.android.gcm.demo.app.permission.C2D_MESSAGE" android:protectionLevel="signature" />
    <uses-permission android:name="com.google.android.gcm.demo.app.permission.C2D_MESSAGE" />
    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" /> <!-- This app has permission to register and receive data message. -->

    <!--In-App Billing Permissions-->
    <uses-permission android:name="com.android.vending.BILLING" /> <!-- VERY IMPORTANT! Don't forget this permission, or in-app billing won't work. -->

	<uses-sdk android:minSdkVersion="8" android:targetSdkVersion="18"/>
	<supports-screens android:largeScreens="true" android:xlargeScreens="true" />

	<application android:icon="@drawable/ic_launcher"
		android:label="@string/app_name"
		android:logo="@drawable/ic_action_menu"
		android:theme="@style/OrangeButtonTheme"
        android:debuggable="true"
		>
		<activity android:name=".ui.activities.SplashActivity"
			android:label="@string/app_name"
			android:theme="@style/NoTitle"
			android:noHistory="true"
			>
			<intent-filter>
				<action android:name="android.intent.action.MAIN"/>
				<category android:name="android.intent.category.LAUNCHER"/>
			</intent-filter>
		</activity>

        <activity android:name=".ui.activities.MainFragmentFaceActivity"
                  android:screenOrientation="portrait" android:windowSoftInputMode="adjustResize"
                  android:launchMode="singleTop"> <!--TODO restore-->
            <!-- Receives the search request. -->
            <intent-filter>
                <action android:name="android.intent.action.SEARCH"/>
                <!-- No category needed, because the Intent will specify this class component-->
            </intent-filter>

            <!-- Points to searchable meta data. -->
            <meta-data android:name="android.app.searchable" android:resource="@xml/searchable"/>
        </activity>

		<receiver
			android:name="com.google.android.gcm.GCMBroadcastReceiver"
			android:permission="com.google.android.c2dm.permission.SEND" >
			<intent-filter>
				<!-- Receives the actual messages. -->
				<action android:name="com.google.android.c2dm.intent.RECEIVE" />
				<!-- Receives the registration id. -->
				<action android:name="com.google.android.c2dm.intent.REGISTRATION" />
				<category android:name="com.chess" />
			</intent-filter>
		</receiver>

		<!--
				  Application-specific subclass of GCMBaseIntentService that will
				  handle received messages.

				  By default, it must be named .GCMIntentService, unless the
				  application uses a custom BroadcastReceiver that redefines its name.
				-->
		<service android:name=".GCMIntentService" />
        <service android:name=".backend.LiveChessService" />
        <service android:name=".backend.GetAndSaveUserStats"/>
        <service android:name=".backend.GetAndSaveFriends"/>

        <provider android:name=".db.DbDataProvider" android:authorities="com.chess.db_provider" android:exported="false"/>

		<!--<meta-data android:name="ADMOB_PUBLISHER_ID" android:value="a14dd6bdf67a607"/>-->

        <!--Facebook auth activities and keys-->
        <activity android:name="com.facebook.LoginActivity"
                  android:theme="@android:style/Theme.Translucent.NoTitleBar"
                   />
        <meta-data android:name="com.facebook.sdk.ApplicationId" android:value="@string/facebook_app_id"/>
	</application>

</manifest>
